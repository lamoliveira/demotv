<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="https://seeklogo.com/images/U/UNIMED-logo-C68C2B487E-seeklogo.com.png" type="image/x-icon" />
    <title>Exemplo de refresh a cada 10 segundos</title>
   
    <meta http-equiv="refresh" content="10">
    <style>
        body {
            margin: 0px;
        }
        h1 {
            font-family: arial;
            font-size: 100%;
        }
        iframe {
            width: 1900px;
            height: 1000px;
        }
        div.top {
            background-color: rgba(2, 109, 8, 0.83);
            height: 51px;
            width: 100%;
        }
    </style>

    


<script type="text/javascript" src="https://public.tableau.com/javascripts/api/tableau-2.8.0.min.js"></script>
                                        
<script type="text/javascript">

window.addEventListener("load", mediaSizer);
        //window.addEventListener("resize", mediaSizer);
        // Listeners that will react when the page first loads or is resized.
        // If any of these events take place the mediaSizer() function executes.

        var vizList = [

                    "https://demo.tableau.com/t/LuizOliveira/views/demoTV/AcompanhamentodeResultados/1cc43acf-483c-43ff-a3e2-951dfe81d99b/0cd5a6ad-85a8-448c-8fc5-1d1b66e9a584"


                ];
        // Array of Tableau Server URLs for dashboard or sheet navigation.
    
        var viz,
            vizLen = vizList.length,
            vizCount = 0,
            devType;
        var options = {
            device: devType,
        };


        function mediaSizer() {
        // Determines the correct viz layout according to screen sizes.
            if (window.matchMedia("(max-width: 480px)").matches) {
                //alert("I am a phone layout!");
                devType = 'phone';
                vWidth = 415;
                vHeight = 950;
                //options.device = 'phone';
            } else if (window.matchMedia("(max-width: 980px)").matches) {
                //alert("I am a tablet layout!");
                devType = 'tablet';
                vWidth = 980;
                //options.device = 'tablet';
            } else {
                //alert("I am a desktop layout!");
                devType = 'desktop';
                vWidth = 1666;
                vHeight = 900;
                //options.device = 'desktop';
            }
            console.log("devtype: "+devType )
            console.log("launch0")
            launchViz(0);
    


    
          
           
            // Launches the viz again with the new sizing at the current index of vizList.
      }


      function launchViz(vizNav) {
        // JS object targeting a div in the html document. (vizNav) will pass navigation values to move back and forth across vizList.
        console.log("vizContainer"+vizNav)
        console.log("devtype: "+devType )
            var vizDiv = document.getElementById("vizContainer"+vizNav),
            // Will embed the visualization on a div with id="VizContainer"
            options = {
                device: devType,
                width: vWidth,
                height: vHeight,
                hideTabs: true,
                hideToolbar: true,
                onFirstInteractive: function () {
                    listenToMarksSelection();
                }
            };
            

            var vizURL = vizList[vizNav];
            // Dynamic URL returning the string from vizList at index = vizNav (viz to be displayed).

                    try {
                        // Initializes the viz from the array with desired options. 
                        viz = new tableau.Viz(vizDiv, vizURL, options);
                if (!viz) throw 'viz not initialized'
                    }
                    catch(err) {
                        alert(err);
                    }
                    finally {
                        console.log('whatever')
                        console.count('initViz')
                    }
            
        }

</script>



</head>
<body>
    <div class="top">
        <img src="https://seeklogo.com/images/U/UNIMED-logo-C68C2B487E-seeklogo.com.png" alt="favicon" height="51" width="51">
        <h1>Exemplo de refresh a cada 10 segundos</h1>
    </div>
    <p>-</p>
   
        <div style="text-align: center;">
            <div style="display: inline-block;">
                <div id="vizContainer0" ></div>
            </div></div>
       
   
</body>
</html>